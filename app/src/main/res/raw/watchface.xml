<?xml version="1.0" encoding="utf-8"?>
<!--
    Mugibow Watch Face - Watch Face Format (WFF) v2
    Compatible with Pixel Watch 2 and other Wear OS 4+ devices
    Full-featured version with all available data sources

    Required images (place in res/drawable/):
    - background.png      : 450x450px background image
    - preview.png         : 450x450px preview for watch face picker
    - digit_0.png ~ digit_9.png : Custom digit images (same height recommended)
    - digit_colon.png     : Colon separator image
-->
<WatchFace width="450" height="450" clipShape="CIRCLE">

    <!-- ========================================= -->
    <!-- BITMAP FONTS DEFINITION                   -->
    <!-- ========================================= -->
    <BitmapFonts>
        <BitmapFont name="custom_digits">
            <Character name="0" resource="digit_0" width="60" height="100" />
            <Character name="1" resource="digit_1" width="60" height="100" />
            <Character name="2" resource="digit_2" width="60" height="100" />
            <Character name="3" resource="digit_3" width="60" height="100" />
            <Character name="4" resource="digit_4" width="60" height="100" />
            <Character name="5" resource="digit_5" width="60" height="100" />
            <Character name="6" resource="digit_6" width="60" height="100" />
            <Character name="7" resource="digit_7" width="60" height="100" />
            <Character name="8" resource="digit_8" width="60" height="100" />
            <Character name="9" resource="digit_9" width="60" height="100" />
            <Character name=":" resource="digit_colon" width="30" height="100" />
        </BitmapFont>
    </BitmapFonts>

    <!-- ========================================= -->
    <!-- MAIN SCENE                                -->
    <!-- ========================================= -->
    <Scene>

        <!-- BACKGROUND -->
        <PartImage x="0" y="0" width="450" height="450" name="Background">
            <Image resource="background" />
            <Variant mode="AMBIENT" target="alpha" value="128" />
        </PartImage>

        <!-- ===================================== -->
        <!-- TOP SECTION: Weather Info             -->
        <!-- ===================================== -->

        <!-- Weather Condition & Temperature (Top Center) -->
        <Group x="130" y="40" width="190" height="50" name="WeatherMain">
            <PartText x="0" y="0" width="190" height="22" name="WeatherCondition">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="16" color="#87CEEB" />
                    <Template>
                        %s
                        <Parameter expression="[WEATHER.IS_AVAILABLE] ? [WEATHER.CONDITION_NAME] : '---'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="150" />
            </PartText>
            <PartText x="0" y="22" width="190" height="28" name="Temperature">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="24" color="#FFFFFF" />
                    <Template>
                        %s
                        <Parameter expression="[WEATHER.IS_AVAILABLE] ? (round([WEATHER.TEMPERATURE]) + 'Â°') : '--Â°'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="180" />
            </PartText>
        </Group>

        <!-- Humidity (Top Left) -->
        <Group x="45" y="85" width="80" height="40" name="HumidityGroup">
            <PartText x="0" y="0" width="80" height="16" name="HumidityLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="11" color="#4FC3F7" />
                    <Template>HUMIDITY</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="16" width="80" height="24" name="HumidityValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="16" color="#4FC3F7" />
                    <Template>
                        %s%%
                        <Parameter expression="[WEATHER.IS_AVAILABLE] ? round([WEATHER.HUMIDITY]) : '--'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- UV Index (Top Right) -->
        <Group x="325" y="85" width="80" height="40" name="UVGroup">
            <PartText x="0" y="0" width="80" height="16" name="UVLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="11" color="#FFB74D" />
                    <Template>UV INDEX</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="16" width="80" height="24" name="UVValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="16" color="#FFB74D" />
                    <Template>
                        %s
                        <Parameter expression="[WEATHER.IS_AVAILABLE] ? round([WEATHER.UV_INDEX]) : '--'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- Precipitation (Left) -->
        <Group x="25" y="140" width="70" height="40" name="PrecipGroup">
            <PartText x="0" y="0" width="70" height="16" name="PrecipLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="10" color="#81D4FA" />
                    <Template>RAIN</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="16" width="70" height="24" name="PrecipValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="14" color="#81D4FA" />
                    <Template>
                        %s%%
                        <Parameter expression="[WEATHER.IS_AVAILABLE] ? round([WEATHER.CHANCE_OF_PRECIPITATION]) : '--'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- Wind Speed (Right) -->
        <Group x="355" y="140" width="70" height="40" name="WindGroup">
            <PartText x="0" y="0" width="70" height="16" name="WindLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="10" color="#B0BEC5" />
                    <Template>WIND</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="16" width="70" height="24" name="WindValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="14" color="#B0BEC5" />
                    <Template>
                        %sm/s
                        <Parameter expression="[WEATHER.IS_AVAILABLE] ? round([WEATHER.WIND_SPEED]) : '--'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- ===================================== -->
        <!-- CENTER: Digital Clock                 -->
        <!-- ===================================== -->
        <DigitalClock x="75" y="165" width="300" height="90">
            <TimeText
                x="0"
                y="0"
                width="300"
                height="85"
                format="HH:mm"
                hourFormat="SYNC_TO_DEVICE"
                align="CENTER">
                <BitmapFont family="custom_digits" size="85" />
            </TimeText>
            <Variant mode="AMBIENT" target="alpha" value="220" />
        </DigitalClock>

        <!-- Date -->
        <PartText x="125" y="250" width="200" height="28" name="Date">
            <Text align="CENTER">
                <Font family="SYNC_TO_DEVICE" size="20" color="#FFFFFF" />
                <Template>
                    %s %d
                    <Parameter expression="[DAY_OF_WEEK_S]" />
                    <Parameter expression="[DAY]" />
                </Template>
            </Text>
            <Variant mode="AMBIENT" target="alpha" value="150" />
        </PartText>

        <!-- ===================================== -->
        <!-- BOTTOM LEFT: Sunrise/Sunset           -->
        <!-- ===================================== -->
        <Group x="25" y="260" width="80" height="55" name="SunriseSunsetGroup">
            <!-- Sunrise -->
            <PartText x="0" y="0" width="80" height="14" name="SunriseLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="10" color="#FFA726" />
                    <Template>SUNRISE</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="12" width="80" height="18" name="SunriseValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="13" color="#FFA726" />
                    <Template>
                        %02d:%02d
                        <Parameter expression="[SUNRISE_HOUR]" />
                        <Parameter expression="[SUNRISE_MINUTE]" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <!-- Sunset -->
            <PartText x="0" y="28" width="80" height="14" name="SunsetLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="10" color="#FF7043" />
                    <Template>SUNSET</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="40" width="80" height="18" name="SunsetValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="13" color="#FF7043" />
                    <Template>
                        %02d:%02d
                        <Parameter expression="[SUNSET_HOUR]" />
                        <Parameter expression="[SUNSET_MINUTE]" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- ===================================== -->
        <!-- BOTTOM RIGHT: Moon Phase              -->
        <!-- ===================================== -->
        <Group x="345" y="260" width="80" height="55" name="MoonPhaseGroup">
            <PartText x="0" y="0" width="80" height="14" name="MoonLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="10" color="#CE93D8" />
                    <Template>MOON</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="14" width="80" height="40" name="MoonPhase">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="28" color="#CE93D8" />
                    <Template>
                        %s
                        <Parameter expression="[MOON_PHASE_TYPE] == 0 ? 'ðŸŒ‘' : ([MOON_PHASE_TYPE] == 1 ? 'ðŸŒ’' : ([MOON_PHASE_TYPE] == 2 ? 'ðŸŒ“' : ([MOON_PHASE_TYPE] == 3 ? 'ðŸŒ”' : ([MOON_PHASE_TYPE] == 4 ? 'ðŸŒ•' : ([MOON_PHASE_TYPE] == 5 ? 'ðŸŒ–' : ([MOON_PHASE_TYPE] == 6 ? 'ðŸŒ—' : 'ðŸŒ˜'))))))" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- ===================================== -->
        <!-- BOTTOM CENTER: Health & Battery Row   -->
        <!-- ===================================== -->

        <!-- Step Count -->
        <Group x="70" y="320" width="90" height="50" name="StepCountGroup">
            <PartText x="0" y="0" width="90" height="14" name="StepLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="11" color="#90EE90" />
                    <Template>STEPS</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="14" width="90" height="28" name="StepCount">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="18" color="#90EE90" />
                    <Template>
                        %d
                        <Parameter expression="[STEP_COUNT]" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- Heart Rate -->
        <Group x="175" y="320" width="100" height="50" name="HeartRateGroup">
            <PartText x="0" y="0" width="100" height="14" name="HeartLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="11" color="#FF6B6B" />
                    <Template>HEART</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="14" width="100" height="28" name="HeartRate">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="18" color="#FF6B6B" />
                    <Template>
                        %sbpm
                        <Parameter expression="[HEART_RATE] > 0 ? [HEART_RATE] : '--'" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- Battery -->
        <Group x="290" y="320" width="90" height="50" name="BatteryGroup">
            <PartText x="0" y="0" width="90" height="14" name="BatteryLabel">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="11" color="#FFD700" />
                    <Template>BATTERY</Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
            <PartText x="0" y="14" width="90" height="28" name="BatteryValue">
                <Text align="CENTER">
                    <Font family="SYNC_TO_DEVICE" size="18" color="#FFD700" />
                    <Template>
                        %d%%
                        <Parameter expression="[BATTERY_PERCENT]" />
                    </Template>
                </Text>
                <Variant mode="AMBIENT" target="alpha" value="0" />
            </PartText>
        </Group>

        <!-- ===================================== -->
        <!-- PROGRESS ARCS                         -->
        <!-- ===================================== -->

        <!-- Step Progress Arc (Bottom Left) -->
        <PartDraw x="0" y="0" width="450" height="450" name="StepProgressArc">
            <Arc x="20" y="20" width="410" height="410"
                startAngle="140" endAngle="180" direction="CLOCKWISE">
                <Stroke color="#333333" thickness="6" cap="ROUND" />
            </Arc>
            <Arc x="20" y="20" width="410" height="410"
                startAngle="140" direction="CLOCKWISE">
                <Stroke color="#90EE90" thickness="6" cap="ROUND" />
                <Transform target="endAngle" value="140 + (clamp([STEP_COUNT] / 10000.0, 0, 1) * 40)" />
            </Arc>
            <Variant mode="AMBIENT" target="alpha" value="0" />
        </PartDraw>

        <!-- Battery Progress Arc (Bottom Right) -->
        <PartDraw x="0" y="0" width="450" height="450" name="BatteryProgressArc">
            <Arc x="20" y="20" width="410" height="410"
                startAngle="0" endAngle="40" direction="CLOCKWISE">
                <Stroke color="#333333" thickness="6" cap="ROUND" />
            </Arc>
            <Arc x="20" y="20" width="410" height="410"
                startAngle="0" direction="CLOCKWISE">
                <Stroke color="#FFD700" thickness="6" cap="ROUND" />
                <Transform target="endAngle" value="([BATTERY_PERCENT] / 100.0 * 40)" />
            </Arc>
            <Variant mode="AMBIENT" target="alpha" value="0" />
        </PartDraw>

        <!-- Heart Rate Arc (Bottom Center) -->
        <PartDraw x="0" y="0" width="450" height="450" name="HeartRateArc">
            <Arc x="20" y="20" width="410" height="410"
                startAngle="70" endAngle="110" direction="CLOCKWISE">
                <Stroke color="#333333" thickness="6" cap="ROUND" />
            </Arc>
            <Arc x="20" y="20" width="410" height="410"
                startAngle="70" direction="CLOCKWISE">
                <Stroke color="#FF6B6B" thickness="6" cap="ROUND" />
                <Transform target="endAngle" value="70 + (clamp([HEART_RATE] / 180.0, 0, 1) * 40)" />
            </Arc>
            <Variant mode="AMBIENT" target="alpha" value="0" />
        </PartDraw>

    </Scene>

</WatchFace>
